<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Menu</title>
    <!--<link rel="icon" type="image/x-icon" href="/images/condelulogo.ico">-->
    <meta name="theme-color" content="#ffffff" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/styles/menu.css">
    <script src="https://kit.fontawesome.com/2b6129ab2e.js" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/lenis@1.1.13/dist/lenis.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/lenis@1.1.13/dist/lenis.css">
    <script src="/js/menu.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
</head>
<body class="light">


<div id="header-container">
    <div id="header-link-container">
        <a href="/menu" style="display: none;">Menu</a>
        <button id="header-show-button" data-headeropen="false" onclick="headerButtonClick()"><i class="fa-solid fa-bars"></i></button>
        <a class="header-no-remove" href="/cart">
            <i class="fa-solid fa-cart-shopping"></i>
            <p id="cart-item-count">0</p>
        </a>
    </div>
    <div id="header-account-icon">
        <a href="/account">
            <img id="header-account-icon-image" src="/images/default-avatar-icon.jpg" alt="account icon">
        </a>
    </div>
</div>

<div id="branding-container">
    <a href="/"><h1>Condelu Meals</h1></a>
</div>


<div id="menu-item-overlay" onclick="hideOverlay(event, this);">
    <div id="menu-item-details-container">
        <div id="menu-item-top">
            <div id="menu-item-main-info">
                <div id="menu-item-label"><h2 id="menu-item-overlay-name">Test1</h2></div>
                <div id="menu-item-price"><h4 id="menu-item-overlay-price">Test2</h4></div>
                <div id="menu-item-rating"><h5 id="menu-item-overlay-rating"></h5></div>
            </div>
            <div id="menu-item-image">
                <img id="menu-item-overlay-image" src="" alt="menu item overlay extra info image." style="width: 100%;height: 30vh;object-fit: contain;">
            </div>
        </div>
        <div id="menu-item-desc-container">
            <p id="menu-item-overlay-desc"></p>
            <button id="add-to-cart-button" onclick="addItemToCart();">Add to Cart</button>
        </div>
    </div>
</div>


<div id="site-content">
    <div id="menu-banner">
        <h1>Menu</h1>
    </div>

    <div id="menu-categories-container">
        <!-- Categories of all, breakfast, dinner, sides, drinks, desserts-->
        <div class="menu-topic-tile" th:each="topicTile:${itemsByMenuTags.entrySet()}" th:category="${topicTile.getKey()}" onclick="setMenuCategory(this.getAttribute('category'));" th:id="|cattile_${topicTile.getKey()}|">
            <h1 th:text="${topicTile.getKey()}"></h1>
        </div>
    </div>

    <div id="menu-items-container">
        <div class="menu-items" style="display: none;" th:each="category:${itemsByMenuTags.entrySet()}" th:id="|menucontainer_${category.getKey()}|">
            <div class="menu-item-tag" th:each="tag:${itemsByMenuTags.get(category.getKey())}">
                <h2 class="menu-tag-name" th:text="${tag.getTagName()}"></h2>
                <div class="tag-items">
                    <div class="menu-item" th:each="item:${tag.getMenuItems()}">
                        <div class="item-image-container">
                            <img th:src="${item.getIconUrl()}" th:alt="${item.getLabel()}">
                        </div>
                        <div class="item-content-container">
                            <h3 class="item-title" th:text="${item.getLabel()}"></h3>
                            <button th:item="${item.getLabel()}" onclick="retrieveItemData(this.getAttribute('item'));">More Info</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<div id="footer">
    <!-- TODO: Add footer -->
</div>


</body>
</html>