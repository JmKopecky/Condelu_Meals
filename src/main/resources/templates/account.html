<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Condelu Meals</title>
    <!--<link rel="icon" type="image/x-icon" href="/images/condelulogo.ico">-->
    <meta name="theme-color" content="#ffffff" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
        html.scroll-hide *::-webkit-scrollbar-thumb {
            background-color: rgb(4.25, 4.25, 4.25);
        }
        html.scroll-hide *::-webkit-scrollbar-track {
            background-color: rgb(4.25, 4.25, 4.25);
        }
    </style>
</head>
<body data-barba="wrapper">

<script type="text/javascript">
    document.getElementsByTagName("html")[0].classList.add("scroll-hide");
</script>

<link rel="stylesheet" href="/styles/pagetransition.css">
<div id="page-transition-container" style="display: flex;">
    <div id="page-transition-left" class="page-transition-panel"></div>
    <div id="page-transition-right" class="page-transition-panel"></div>
    <h1 id="page-transition-title" style="visibility: hidden;">Condelu Meals</h1>
</div>

<link rel="stylesheet" href="/styles/constants.css">

<script src="/js/preloader.js"></script>

<script src="/js/animations.js"></script>


<div id="header-container">
    <div id="header-link-container">
        <a href="/" style="display: none;" class="link-hover">Home</a>
        <a href="/menu" style="display: none;" class="link-hover">Menu</a>
        <a href="/cart" style="display: none;" class="link-hover">Order</a>
        <a href="/account" style="display: none;" class="link-hover">Account</a>
        <a href="/#collaborate-container" style="display: none;" class="link-hover">Careers</a>
        <a href="/reference_page" style="display:none;" class="link-hover">Reference Page</a>
        <button id="header-show-button" data-headeropen="false" onclick="headerButtonClick()"><i class="fa-solid fa-bars"></i></button>
        <a id="header-cart-icon" class="header-no-remove" href="/cart" data-activetime="inactive" data-hover="false">
            <i class="fa-solid fa-cart-shopping"></i>
            <p id="cart-item-count">0</p>
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 100 100">
                <circle cx="50" cy="50" r="50" stroke="#00B837"
                        fill="none"
                        stroke-width="8"
                        style="stroke-dasharray: 80;"/>
            </svg>
        </a>
    </div>
    <div id="header-account-icon" data-hover="false">
        <a href="/account">
            <img id="header-account-icon-image" th:src="${headerpicturelink}" alt="account icon" onerror="this.src='/images/default-avatar-icon.jpg';">
        </a>
        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 100 100">
            <circle cx="50" cy="50" r="50" stroke="#00B837"
                    fill="none"
                    stroke-width="8"
                    style="stroke-dasharray: 80;"/>
        </svg>
    </div>
</div>

<div id="branding-container">
    <a href="/" id="branding-desktop"><h1>Condelu Meals</h1></a>
    <a href="/" id="branding-mobile"><i class="fa-solid fa-house"></i></a>
</div>

<div id="mobile-header-popup">
    <a href="/"><h1>Home</h1></a>
    <a href="/menu"><h1>Menu</h1></a>
    <a href="/cart"><h1>Order</h1></a>
    <a href="/account"><h1>Account</h1></a>
    <a href="/#collaborate-container"><h1>Careers</h1></a>
    <a href="/reference_page"><h1>Reference Page</h1></a>
</div>



<div id="barba-container" data-barba="container" data-barba-namespace="page" data-page="account">

    <div id="indicator-overlay" style="display:none;">
        <div id="indicator-duration">

        </div>
        <h1 id="indicator-content">Success!</h1>
    </div>

    <div id="site-content-account" class="site-content" data-title="Account">
        <div id="account-menu-nav">
            <div class="account-nav-listing selected" onclick="setAccountPage('Account');">
                <i class="fa-solid fa-person"></i>
                <p>Account</p>
            </div>
            <div class="account-nav-listing" onclick="setAccountPage('Billing');">
                <i class="fa-solid fa-money-bill"></i>
                <p>Billing</p>
            </div>
            <!--<div class="account-nav-listing" onclick="setAccountPage('Rewards');">
                <i class="fa-solid fa-star"></i>
                <p>Rewards</p>
            </div>feature: Rewards-->
            <div class="account-nav-listing" onclick="setAccountPage('Reviews');">
                <i class="fa-solid fa-comment"></i>
                <p>Reviews</p>
            </div>
            <div class="account-nav-listing" onclick="setAccountPage('New Password');">
                <i class="fa-solid fa-lock"></i>
                <p>New Password</p>
            </div>
            <div class="account-nav-listing" onclick="setAccountPage('Delete Account');">
                <i class="fa-solid fa-trash-can"></i>
                <p>Delete Account</p>
            </div>
        </div>

        <div id="account-menu-nav-accordion">
            <div id="nav-accordion-header">
                <h2 id="nav-accordion-header-label">Account</h2>
                <div id="nav-accordion-icon">
                    <i id="show-accordion-panel" class="fa-solid fa-plus" style="display:block" onclick="mobileNavAccordionClick('show');"></i>
                    <i id="hide-accordion-panel" class="fa-solid fa-minus" style="display:none" onclick="mobileNavAccordionClick('hide');"></i>
                </div>
            </div>
            <div id="nav-accordion-panel">
                <div class="account-nav-listing selected" onclick="setAccountPage('Account');">
                    <i class="fa-solid fa-person"></i>
                    <p>Account</p>
                </div>
                <div class="account-nav-listing" onclick="setAccountPage('Billing');">
                    <i class="fa-solid fa-money-bill"></i>
                    <p>Billing</p>
                </div>
                <!--<div class="account-nav-listing" onclick="setAccountPage('Rewards');">
                    <i class="fa-solid fa-star"></i>
                    <p>Rewards</p>
                </div>feature: Rewards-->
                <div class="account-nav-listing" onclick="setAccountPage('Reviews');">
                    <i class="fa-solid fa-comment"></i>
                    <p>Reviews</p>
                </div>
                <div class="account-nav-listing" onclick="setAccountPage('New Password');">
                    <i class="fa-solid fa-lock"></i>
                    <p>New Password</p>
                </div>
                <div class="account-nav-listing" onclick="setAccountPage('Delete Account');">
                    <i class="fa-solid fa-trash-can"></i>
                    <p>Delete Account</p>
                </div>
            </div>
        </div>

        <div id="account-setting-panels">

            <div class="setting-panel" style="display: flex;" id="panel-account">
                <div id="setting-name-container" class="setting-container">
                    <label id="setting-name-label" class="label-setting">
                        Full Name
                    </label>
                    <input type="text" id="setting-name-input" autocomplete="name" th:value="${account.getName()}">
                </div>
                <div id="setting-email-container" class="setting-container">
                    <label id="setting-email-label" class="label-setting">
                        Email
                    </label>
                    <input type="email" id="setting-email-input" autocomplete="email" th:value="${account.getEmail()}">
                </div>
                <div id="setting-picture-container" class="setting-container">
                    <label id="setting-picture-label" class="label-setting">
                        Picture URL
                    </label>
                    <input type="url" id="setting-picture-input" th:value="${account.getImageUrl()}">
                </div>
                <button onclick="updateAccountSettings()">Edit</button>
            </div>

            <div class="setting-panel" style="display: none;" id="panel-billing">
                <div id="setting-address-container" class="setting-container">
                    <label id="setting-address-label" class="label-setting">
                        Address
                    </label>
                    <input type="text" id="setting-address-input" autocomplete="street-address" th:value="${account.getAddress()}">
                </div>

                <div class="info-align-horizontal">
                    <div id="setting-city-container" class="setting-container">
                        <label id="setting-city-label" class="label-setting">
                            City
                        </label>
                        <input type="text" id="setting-city-input" autocomplete="address-level2" th:value="${account.getCity()}">
                    </div>
                    <div id="setting-zip-container" class="setting-container">
                        <label id="setting-zip-label" class="label-setting">
                            Zip
                        </label>
                        <input type="text" id="setting-zip-input" autocomplete="postal-code" th:value="${account.getZip()}">
                    </div>
                </div>

                <div class="info-align-horizontal">
                    <div id="setting-state-container" class="setting-container">
                        <label id="setting-state-label" class="label-setting">
                            State
                        </label>
                        <input type="text" id="setting-state-input" autocomplete="address-level1" th:value="${account.getState()}">
                    </div>
                    <div id="setting-country-container" class="setting-container">
                        <label id="setting-country-label" class="label-setting">
                            Country
                        </label>
                        <input type="text" id="setting-country-input" autocomplete="country-name" th:value="${account.getCountry()}">
                    </div>
                </div>

                <div id="setting-phone-container" class="setting-container">
                    <label id="setting-phone-label" class="label-setting">
                        Phone
                    </label>
                    <input type="text" id="setting-phone-input" autocomplete="tel" th:value="${account.getPhone()}">
                </div>

                <div id="setting-cardnum-container" class="setting-container">
                    <label id="setting-cardnum-label" class="label-setting">
                        Card #
                    </label>
                    <input type="text" id="setting-cardnum-input" autocomplete="cc-number" th:value="${account.getCardNumber()}">
                </div>

                <div id="setting-cardusername-container" class="setting-container">
                    <label id="setting-cardusername-label" class="label-setting">
                        Card Username
                    </label>
                    <input type="text" id="setting-cardusername-input" autocomplete="cc-name" th:value="${account.getCardUserName()}">
                </div>

                <div class="info-align-horizontal">

                    <div id="setting-cardexpdate-container" class="setting-container">
                        <label id="setting-cardexpdate-label" class="label-setting">
                            Expiration Date
                        </label>
                        <input type="text" id="setting-cardexpdate-input" autocomplete="cc-exp" th:value="${account.getExpirationDate()}">
                    </div>

                    <div id="setting-cardsecuritycode-container" class="setting-container">
                        <label id="setting-cardsecuritycode-label" class="label-setting">
                            Security Code
                        </label>
                        <input type="text" id="setting-cardsecuritycode-input" autocomplete="cc-csc" th:value="${account.getSecurityCode()}">
                    </div>

                </div>
                <button onclick="updateBillingSettings()">Edit</button>
            </div>

            <!--
            <div class="setting-panel" style="display: none;" id="panel-rewards">
                feature: Rewards System
            </div>
            -->

            <div class="setting-panel" style="display: none;" id="panel-reviews">
                <div id="rating-scrollable">
                    <div class="rating-tile" th:each="rating:${ratings}">
                        <div class="rating-info-left">
                            <h3 class="rating-item-title" th:text="${rating.getProduct().getLabel()}"></h3>
                            <h2 class="rating-score" th:text="${rating.getRating()} + '/5'"></h2>
                        </div>
                        <p class="rating-message" th:text="${rating.getMessage()}"></p>
                    </div>
                </div>
            </div>

            <div class="setting-panel" style="display: none;" id="panel-new">
                <div id="setting-password-new-container" class="setting-container">
                    <label id="setting-password-new-label" class="label-setting">
                        New Password
                    </label>
                    <input type="password" id="setting-password-new-input" autocomplete="password">
                </div>
                <div id="setting-password-confirm-container" class="setting-container">
                    <label id="setting-password-confirm-label" class="label-setting">
                        Confirm Password
                    </label>
                    <input type="password" id="setting-password-confirm-input" autocomplete="password">
                </div>
                <!-- feature 2FA Verification -->
                <button onclick="newPassword();">Change Password</button>
            </div>

            <div class="setting-panel" style="display: none;" id="panel-delete">
                <div id="setting-password-delete-container" class="setting-container">
                    <label id="setting-password-delete-label" class="label-setting">
                        Password
                    </label>
                    <input type="password" id="setting-password-delete-input" autocomplete="password">
                </div>
                <h3 style="color: red;font-style:oblique;" id="password-delete-header">THIS ACTION CANNOT BE REVERSED</h3>
                <button onclick="deleteAccount();">Delete Account</button>
            </div>
        </div>
    </div>
</div>



</body>


<!-- scripts and files loaded last -->
<script src="https://kit.fontawesome.com/2b6129ab2e.js" crossorigin="anonymous"></script>
<script src="https://unpkg.com/lenis@1.1.13/dist/lenis.min.js"></script>
<link rel="stylesheet" href="https://unpkg.com/lenis@1.1.13/dist/lenis.css">

<link rel="stylesheet" href="/styles/core.css">

<script src="/js/header.js"></script>
<script src="/js/home.js"></script>
<script src="/js/item_cart_handling.js"></script>
<script src="/js/account.js"></script>
<script src="/js/menu.js"></script>
<script src="/js/order.js"></script>
<script src="/js/signon.js"></script>
<script src="/js/view_cart.js"></script>

<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
<script src="https://unpkg.com/@barba/core" type="text/javascript"></script>


</html>